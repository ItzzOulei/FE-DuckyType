(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[687],{1661:e=>{e.exports={body:"profile_body__RK9RW",topContainer:"profile_topContainer__d0ozl",seperator:"profile_seperator__mL5Ru",rightContainer:"profile_rightContainer__BduOJ",profileContainer:"profile_profileContainer__D6NN8",profileStats:"profile_profileStats__FrDcA",bottomContainer:"profile_bottomContainer__pOTIL",statsContainer:"profile_statsContainer__cEph_",stats:"profile_stats__deQL1",runsContainer:"profile_runsContainer__FIHnG",runsDisplay:"profile_runsDisplay__yzAhs",loadingPlaceholderText:"profile_loadingPlaceholderText__Li9I8",editProfile:"profile_editProfile__FpOOW",mobileContainer:"profile_mobileContainer__CKuwk"}},2649:(e,s,t)=>{"use strict";function i(e){return async(s,t)=>{let i={method:e,headers:{"content-type":"application/json"},...t};null!==i.token&&(i.headers.Authorization="Bearer ".concat(i.token)),null!==i.body&&(i.body=JSON.stringify(i.body)),console.log(s,i);let a=await fetch(s,i);if(!a.ok){let e=Error("Request failed with status "+a.status);throw e.response=a,e}let n=a.headers.get("content-type");return n&&n.includes("application/json")?await a.json():await a.text()}}t.d(s,{C1:()=>o,TB:()=>n,Un:()=>l,hm:()=>a,mI:()=>r});let a=i("GET"),n=i("POST"),r=i("PUT"),l=i("DELETE"),o="https://campustype-backend.onrender.com"},3160:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/[id]",function(){return t(7782)}])},7169:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var i=t(2649);let a={login:e=>(0,i.TB)("".concat(i.C1,"/api/auth/login"),{body:e}),register:e=>(0,i.TB)("".concat(i.C1,"/api/auth/register"),{body:e}),update(e,s){let t=e.id;return(0,i.mI)("".concat(i.C1,"/api/users/").concat(t),{body:e,token:s})},getUser:e=>(0,i.hm)("".concat(i.C1,"/api/users/").concat(e)),deleteUser:e=>(0,i.Un)("".concat(i.C1,"/api/users/").concat(e))}},7782:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var i=t(7876),a=t(4232),n=t(9099),r=t(8781),l=t(7169),o=t(1661),c=t(8486);function d(e,s){return e&&0!==e.length?Number((e.reduce((e,t)=>e+(t[s]||0),0)/e.length).toFixed(2)):0}function h(){let e=(0,n.useRouter)(),{id:s}=e.query,[t,h]=(0,a.useState)([]),[p,x]=(0,a.useState)(null),[m,u]=(0,a.useState)(),[j,C]=(0,a.useState)(0),_=s=>{e.push("/run/".concat(s))};if((0,a.useEffect)(()=>{C(window.innerWidth);let e=()=>C(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{s&&(async()=>{let e=await l.A.getUser(s),t=await r.A.getResults(s),i=JSON.parse(localStorage.getItem("session"));i&&parseInt(s)===i.userId&&u(!0),h(t),x(e)})()},[s]),!p||!t)return(0,i.jsxs)("div",{className:o.body,children:[(0,i.jsxs)("div",{className:o.topContainer,children:[(0,i.jsxs)("div",{className:o.profileContainer,children:[(0,i.jsx)("img",{src:"https://placehold.co/200x200?text=Campus+Type",alt:"Campus Type"}),(0,i.jsxs)("div",{className:o.profileStats,children:[(0,i.jsx)("span",{className:o.loadingPlaceholderText}),(0,i.jsx)("h4",{children:"tests completed"}),(0,i.jsx)("span",{className:o.loadingPlaceholderText}),(0,i.jsx)("h4",{children:"time typing"}),(0,i.jsx)("span",{className:o.loadingPlaceholderText})]})]}),(0,i.jsx)("div",{id:o.seperator}),(0,i.jsxs)("div",{className:o.rightContainer,children:[(0,i.jsx)("h4",{children:"bio"}),(0,i.jsx)("span",{className:o.loadingPlaceholderText}),(0,i.jsx)("h4",{children:"keyboard"}),(0,i.jsx)("span",{className:o.loadingPlaceholderText})]})]}),(0,i.jsx)("div",{className:o.bottomContainer,children:(0,i.jsxs)("div",{className:o.statsContainer,children:[(0,i.jsxs)("div",{className:o.stats,children:[(0,i.jsx)("h3",{children:"WPM"}),(0,i.jsx)("span",{className:o.loadingPlaceholderText})]}),(0,i.jsxs)("div",{className:o.stats,children:[(0,i.jsx)("h3",{children:"CPM"}),(0,i.jsx)("span",{className:o.loadingPlaceholderText})]}),(0,i.jsxs)("div",{className:o.stats,children:[(0,i.jsx)("h3",{children:"ACC"}),(0,i.jsx)("span",{className:o.loadingPlaceholderText})]})]})})]});let N=d(t,"wpm"),f=d(t,"cpm"),g=d(t,"accuracy"),v=t&&0!==t.length?t.reduce((e,s)=>e+(s.time||0),0).toFixed(1):0;return(0,i.jsxs)("div",{className:o.body,children:[(0,i.jsxs)("div",{className:o.topContainer,children:[(0,i.jsx)("div",{className:o.mobileContainer,children:j>980?(0,i.jsxs)("div",{className:o.profileContainer,children:[(0,i.jsx)("img",{src:"https://placehold.co/200x200?text=Campus+Type",alt:"Campus Type"}),(0,i.jsxs)("div",{className:o.profileStats,children:[(0,i.jsx)("h2",{children:p.username}),(0,i.jsx)("h4",{children:"tests completed"}),(0,i.jsx)("h3",{children:t.length}),(0,i.jsx)("h4",{children:"time typing"}),(0,i.jsxs)("h3",{children:[v," sec"]})]})]}):(0,i.jsxs)("div",{className:o.profileContainer,children:[(0,i.jsx)("img",{src:"https://placehold.co/200x200?text=Campus+Type",alt:"Campus Type"}),(0,i.jsxs)("div",{className:o.editProfile,children:[(0,i.jsx)("h2",{children:p.username}),!0===m&&(0,i.jsx)(c,{href:"/profile/edit/".concat(p.id),children:(0,i.jsx)("i",{className:"large material-icons",children:"mode_edit"})})]}),(0,i.jsxs)("div",{className:o.profileStats,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{children:"tests completed"}),(0,i.jsx)("h3",{children:t.length})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{children:"time typing"}),(0,i.jsxs)("h3",{children:[v," sec"]})]})]})]})}),(0,i.jsx)("div",{id:o.seperator}),(0,i.jsx)("div",{className:o.mobileContainer,children:(0,i.jsxs)("div",{className:o.rightContainer,children:[(0,i.jsx)("h4",{children:"bio"}),(0,i.jsx)("p",{children:p.bio||"No bio available"}),(0,i.jsx)("h4",{children:"keyboard"}),(0,i.jsx)("p",{children:p.keyboard||"Not specified"})]})})]}),(0,i.jsx)("div",{className:o.bottomContainer,children:(0,i.jsxs)("div",{className:o.statsContainer,children:[(0,i.jsxs)("div",{className:o.stats,children:[(0,i.jsx)("h3",{children:"WPM"}),(0,i.jsx)("h2",{children:N})]}),(0,i.jsxs)("div",{className:o.stats,children:[(0,i.jsx)("h3",{children:"CPM"}),(0,i.jsx)("h2",{children:f})]}),(0,i.jsxs)("div",{className:o.stats,children:[(0,i.jsx)("h3",{children:"ACC"}),(0,i.jsxs)("h2",{children:[g,"%"]})]})]})}),(0,i.jsx)("div",{className:o.bottomContainer,children:(0,i.jsx)("ul",{className:o.runsContainer,children:t.sort((e,s)=>new Date(s.timestamp)-new Date(e.timestamp)).map((e,s)=>{let t=new Date(e.timestamp).toLocaleString("en-US",{day:"numeric",month:"short",year:"numeric"});return(0,i.jsxs)("li",{className:o.runsDisplay,onClick:()=>_(e.id),children:[(0,i.jsxs)("h3",{children:["WPM: ",e.wpm]}),(0,i.jsxs)("h3",{children:["Acc: ",e.accuracy,"%"]}),(0,i.jsxs)("h3",{children:["Time: ",e.time," sec"]}),j>700&&(0,i.jsx)("h3",{children:t}),j>950&&(0,i.jsxs)("h3",{children:["Words: ",e.words]})]},e.id)})})})]})}},8486:(e,s,t)=>{e.exports=t(1639)},8781:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var i=t(2649);let a={startTest:(e,s)=>(0,i.TB)("".concat(i.C1,"/api/start-test?wordCount=").concat(e),{token:s}),saveResult:(e,s,t)=>(0,i.TB)("".concat(i.C1,"/api/results"),{body:e,token:s,headers:{"Content-Type":"application/json","Test-Token":t}}),getResults:e=>(0,i.hm)("".concat(i.C1,"/api/results/").concat(e)),getRun:e=>(0,i.hm)("".concat(i.C1,"/api/run/").concat(e)),getAllResults:e=>(0,i.hm)("".concat(i.C1,"/api/results"))}},9099:(e,s,t)=>{e.exports=t(8253)}},e=>{var s=s=>e(e.s=s);e.O(0,[636,593,792],()=>s(3160)),_N_E=e.O()}]);