(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[861],{2649:(e,r,a)=>{"use strict";function t(e){return async(r,a)=>{let t={method:e,headers:{"content-type":"application/json"},...a};null!==t.token&&(t.headers.Authorization="Bearer ".concat(t.token)),null!==t.body&&(t.body=JSON.stringify(t.body)),console.log(r,t);let n=await fetch(r,t);if(!n.ok){let e=Error("Request failed with status "+n.status);throw e.response=n,e}let l=n.headers.get("content-type");return l&&l.includes("application/json")?await n.json():await n.text()}}a.d(r,{C1:()=>s,TB:()=>l,Un:()=>d,hm:()=>n,mI:()=>i});let n=t("GET"),l=t("POST"),i=t("PUT"),d=t("DELETE"),s="https://campustype-backend.onrender.com"},5795:e=>{e.exports={leaderboardContainer:"Leaderboard_leaderboardContainer__6cSCn",leaderboardTitle:"Leaderboard_leaderboardTitle___BoR1",leaderboardList:"Leaderboard_leaderboardList__ikx1P",rangElement:"Leaderboard_rangElement__ookJs",currentUser:"Leaderboard_currentUser__RR_nv",rangTitle:"Leaderboard_rangTitle__8Ersj",rangStat:"Leaderboard_rangStat__Sk_Ri",filterContainer:"Leaderboard_filterContainer__GJ8pk",leaderboardFilter:"Leaderboard_leaderboardFilter__q74Tx",activeFilter:"Leaderboard_activeFilter__1jeua",containerLeaderboard:"Leaderboard_containerLeaderboard___CTkS",loadingPlaceholderText:"Leaderboard_loadingPlaceholderText__7sDWm",mainFilter:"Leaderboard_mainFilter__MYiP3",dayFilter:"Leaderboard_dayFilter__ioi9E",subFilter:"Leaderboard_subFilter__oNMW6"}},6494:(e,r,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/leaderboard",function(){return a(7707)}])},7138:(e,r,a)=>{"use strict";a.d(r,{A:()=>n});var t=a(2649);let n={getUsers(e){if(e){let r="".concat(t.C1,"/api/leaderboard?words=").concat(e);return(0,t.hm)("".concat(r,"&_sort=-wpm"))}{let e="".concat(t.C1,"/api/leaderboard?");return(0,t.hm)("".concat(e,"_sort=-wpm"))}}}},7707:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>u});var t=a(7876),n=a(4232),l=a(7138),i=a(5795),d=a.n(i);a(8944);var s=a(8230),c=a.n(s);function o(){let[e,r]=(0,n.useState)([]),[a,i]=(0,n.useState)(0),[s,o]=(0,n.useState)(10),u=()=>{let e=localStorage.getItem("session");return e?JSON.parse(e).username:null},_=async e=>{try{let a=await l.A.getUsers(e);r(a),o(e)}catch(e){console.error("Failed to load leaderboard")}};return(0,n.useEffect)(()=>{_(10)},[]),(0,n.useEffect)(()=>{i(window.innerWidth);let e=()=>i(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,t.jsxs)("div",{className:d().containerLeaderboard,children:[(0,t.jsxs)("div",{className:d().filterContainer,children:[(0,t.jsx)("div",{className:d().mainFilter,children:(0,t.jsx)("p",{className:"".concat(d().leaderboardFilter," ").concat(null===s?d().activeFilter:""),onClick:()=>_(null),children:"All time"})}),(0,t.jsxs)("div",{className:d().dayFilter,children:[(0,t.jsx)("p",{className:"".concat(d().leaderboardFilter," ").concat(null===s?d().activeFilter:""),onClick:()=>_(null),children:"Daily"}),(0,t.jsx)("p",{className:"".concat(d().leaderboardFilter," ").concat(null===s?d().activeFilter:""),onClick:()=>_(null),children:"Weekly"})]}),(0,t.jsxs)("div",{className:d().subFilter,children:[(0,t.jsx)("p",{className:"".concat(d().leaderboardFilter," ").concat(10===s?d().activeFilter:""),onClick:()=>_(10),children:"Words 10"}),(0,t.jsx)("p",{className:"".concat(d().leaderboardFilter," ").concat(15===s?d().activeFilter:""),onClick:()=>_(15),children:"Words 15"}),(0,t.jsx)("p",{className:"".concat(d().leaderboardFilter," ").concat(20===s?d().activeFilter:""),onClick:()=>_(20),children:"Words 20"})]})]}),(0,t.jsxs)("div",{className:d().leaderboardContainer,children:[(0,t.jsx)("h1",{className:d().leaderboardTitle,children:"LEADERBOARD"}),e.length>0?(0,t.jsx)("ul",{className:d().leaderboardList,children:e.map((e,r)=>{let n=u(),l=new Date(e.timestamp).toLocaleString("en-US",{day:"numeric",month:"short",year:"numeric"});return(0,t.jsxs)("li",{className:n===e.user.username?d().currentUser:d().rangElement,children:[(0,t.jsx)(c(),{href:"/profile/".concat(e.user.id),children:(0,t.jsxs)("h2",{className:d().rangTitle,children:[r+1," ",e.user.username]})}),(0,t.jsx)(c(),{href:"/run/".concat(e.id),children:(0,t.jsxs)("h3",{className:d().rangStat,children:["WPM: ",e.wpm]})}),a>700&&(0,t.jsx)(c(),{href:"/run/".concat(e.id),children:(0,t.jsxs)("h3",{className:d().rangStat,children:["Accuracy: ",e.accuracy,"%"]})}),a>950&&(0,t.jsx)(c(),{href:"/run/".concat(e.id),children:(0,t.jsx)("h3",{className:d().rangStat,children:l})})]},e.id)})}):(0,t.jsx)("ul",{className:d().leaderboardList})]})]})}function u(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(o,{})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[636,593,792],()=>r(6494)),_N_E=e.O()}]);